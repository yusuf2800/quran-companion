!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React")):"function"==typeof define&&define.amd?define("ReactH5AudioPlayer",["React"],t):"object"==typeof exports?exports.ReactH5AudioPlayer=t(require("React")):e.ReactH5AudioPlayer=t(e.React)}(self,(e=>(()=>{"use strict";var t={883:t=>{t.exports=e}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}r.r(o),r.d(o,{RHAP_UI:()=>mt,default:()=>yt});var h=r(883),m=r.n(h);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=Object.freeze({left:0,top:0,width:16,height:16}),T=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),O=Object.freeze(w(w({},E),T)),A=Object.freeze(w(w({},O),{},{body:"",hidden:!1}));function C(e,t){var n=function(e,t){var n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);var r=((e.rotate||0)+(t.rotate||0))%4;return r&&(n.rotate=r),n}(e,t);for(var r in A)r in T?r in e&&!(r in n)&&(n[r]=T[r]):r in t?n[r]=t[r]:r in e&&(n[r]=e[r]);return n}function P(e,t,n){var r=e.icons,o=e.aliases||Object.create(null),i={};function a(e){i=C(r[e]||o[e],i)}return a(t),n.forEach(a),C(e,i)}function L(e,t){var n=[];if("object"!==d(e)||"object"!==d(e.icons))return n;e.not_found instanceof Array&&e.not_found.forEach((function(e){t(e,null),n.push(e)}));var r=function(e){var t=e.icons,n=e.aliases||Object.create(null),r=Object.create(null);return Object.keys(t).concat(Object.keys(n)).forEach((function e(o){if(t[o])return r[o]=[];if(!(o in r)){r[o]=null;var i=n[o]&&n[o].parent,a=i&&e(i);a&&(r[o]=[i].concat(a))}return r[o]})),r}(e);for(var o in r){var i=r[o];i&&(t(o,P(e,o,i)),n.push(o))}return n}var k=w({provider:"",aliases:{},not_found:{}},E);function M(e,t){for(var n in t)if(n in e&&d(e[n])!==d(t[n]))return!1;return!0}function S(e){if("object"!==d(e)||null===e)return null;var t=e;if("string"!=typeof t.prefix||!e.icons||"object"!==d(e.icons))return null;if(!M(e,k))return null;var n=t.icons;for(var r in n){var o=n[r];if(!r||"string"!=typeof o.body||!M(o,A))return null}var i=t.aliases||Object.create(null);for(var a in i){var u=i[a],s=u.parent;if(!a||"string"!=typeof s||!n[s]&&!i[s]||!M(u,A))return null}return t}var x=/^[a-z0-9]+(-[a-z0-9]+)*$/,_=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=e.split(":");if("@"===e.slice(0,1)){if(o.length<2||o.length>3)return null;r=o.shift().slice(1)}if(o.length>3||!o.length)return null;if(o.length>1){var i=o.pop(),a=o.pop(),u={provider:o.length>0?o[0]:r,prefix:a,name:i};return t&&!D(u)?null:u}var s=o[0],c=s.split("-");if(c.length>1){var l={provider:r,prefix:c.shift(),name:c.join("-")};return t&&!D(l)?null:l}if(n&&""===r){var d={provider:r,prefix:"",name:s};return t&&!D(d,n)?null:d}return null},D=function(e,t){return!!e&&!(!(t&&""===e.prefix||e.prefix)||!e.name)},R=Object.create(null);function j(e,t){var n=R[e]||(R[e]=Object.create(null));return n[t]||(n[t]=function(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}(e,t))}function N(e,t){return S(t)?L(t,(function(t,n){n?e.icons[t]=n:e.missing.add(t)})):[]}var I=!1;function V(e){return"boolean"==typeof e&&(I=e),I}function U(e){var t="string"==typeof e?_(e,!0,I):e;if(t){var n=j(t.provider,t.prefix),r=t.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}var F=Object.freeze({width:null,height:null}),B=Object.freeze(w(w({},F),T)),W=/(-?[0-9.]*[0-9]+[0-9.]*)/g,z=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function J(e,t,n){if(1===t)return e;if(n=n||100,"number"==typeof e)return Math.ceil(e*t*n)/n;if("string"!=typeof e)return e;var r=e.split(W);if(null===r||!r.length)return e;for(var o=[],i=r.shift(),a=z.test(i);;){if(a){var u=parseFloat(i);isNaN(u)?o.push(i):o.push(Math.ceil(u*t*n)/n)}else o.push(i);if(void 0===(i=r.shift()))return o.join("");a=!a}}var H=/\sid="(\S+)"/g,G="IconifyId"+Date.now().toString(16)+(16777216*Math.random()|0).toString(16),$=0;function q(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G,r=[];t=H.exec(e);)r.push(t[1]);if(!r.length)return e;var o="suffix"+(16777216*Math.random()|Date.now()).toString(16);return r.forEach((function(t){var r="function"==typeof n?n(t):n+($++).toString(),i=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+i+')([")]|\\.[a-z])',"g"),"$1"+r+o+"$3")})),e=e.replace(new RegExp(o,"g"),"")}var K=Object.create(null);function Q(e){return K[e]||K[""]}function X(e){var t;if("string"==typeof e.resources)t=[e.resources];else if(!((t=e.resources)instanceof Array&&t.length))return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:!0===e.random,index:e.index||0,dataAfterTimeout:!1!==e.dataAfterTimeout}}for(var Y=Object.create(null),Z=["https://api.simplesvg.com","https://api.unisvg.com"],ee=[];Z.length>0;)1===Z.length||Math.random()>.5?ee.push(Z.shift()):ee.push(Z.pop());function te(e){return Y[e]}Y[""]=X({resources:["https://api.iconify.design"].concat(ee)});var ne=function(){var e;try{if("function"==typeof(e=fetch))return e}catch(e){}}(),re={prepare:function(e,t,n){var r=[],o=function(e,t){var n,r=te(e);if(!r)return 0;if(r.maxURL){var o=0;r.resources.forEach((function(e){var t=e;o=Math.max(o,t.length)}));var i=t+".json?icons=";n=r.maxURL-o-r.path.length-i.length}else n=0;return n}(e,t),i="icons",a={type:i,provider:e,prefix:t,icons:[]},u=0;return n.forEach((function(n,s){(u+=n.length+1)>=o&&s>0&&(r.push(a),a={type:i,provider:e,prefix:t,icons:[]},u=n.length),a.icons.push(n)})),r.push(a),r},send:function(e,t,n){if(ne){var r=function(e){if("string"==typeof e){var t=te(e);if(t)return t.path}return"/"}(t.provider);switch(t.type){case"icons":var o=t.prefix,i=t.icons.join(",");r+=o+".json?"+new URLSearchParams({icons:i}).toString();break;case"custom":var a=t.uri;r+="/"===a.slice(0,1)?a.slice(1):a;break;default:return void n("abort",400)}var u=503;ne(e+r).then((function(e){var t=e.status;if(200===t)return u=501,e.json();setTimeout((function(){n(function(e){return 404===e}(t)?"abort":"next",t)}))})).then((function(e){"object"===d(e)&&null!==e?setTimeout((function(){n("success",e)})):setTimeout((function(){404===e?n("abort",e):n("next",u)}))})).catch((function(){n("next",u)}))}else n("abort",424)}};function oe(e,t){e.forEach((function(e){var n=e.loaderCallbacks;n&&(e.loaderCallbacks=n.filter((function(e){return e.id!==t})))}))}var ie=0,ae={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function ue(e){var t=w(w({},ae),e),n=[];function r(){n=n.filter((function(e){return"pending"===e().status}))}var o={query:function(e,o,i){var a=function(e,t,n,r){var o,i=e.resources.length,a=e.random?Math.floor(Math.random()*i):e.index;if(e.random){var u=e.resources.slice(0);for(o=[];u.length>1;){var s=Math.floor(Math.random()*u.length);o.push(u[s]),u=u.slice(0,s).concat(u.slice(s+1))}o=o.concat(u)}else o=e.resources.slice(a).concat(e.resources.slice(0,a));var c,l=Date.now(),d="pending",f=0,p=null,v=[],h=[];function m(){p&&(clearTimeout(p),p=null)}function g(){"pending"===d&&(d="aborted"),m(),v.forEach((function(e){"pending"===e.status&&(e.status="aborted")})),v=[]}function y(e,t){t&&(h=[]),"function"==typeof e&&h.push(e)}function b(){d="failed",h.forEach((function(e){e(void 0,c)}))}function w(){v.forEach((function(e){"pending"===e.status&&(e.status="aborted")})),v=[]}return"function"==typeof r&&h.push(r),setTimeout((function r(){if("pending"===d){m();var i=o.shift();if(void 0===i)return v.length?void(p=setTimeout((function(){m(),"pending"===d&&(w(),b())}),e.timeout)):void b();var a={status:"pending",resource:i,callback:function(t,n){!function(t,n,i){var a="success"!==n;switch(v=v.filter((function(e){return e!==t})),d){case"pending":break;case"failed":if(a||!e.dataAfterTimeout)return;break;default:return}if("abort"===n)return c=i,void b();if(a)return c=i,void(v.length||(o.length?r():b()));if(m(),w(),!e.random){var u=e.resources.indexOf(t.resource);-1!==u&&u!==e.index&&(e.index=u)}d="completed",h.forEach((function(e){e(i)}))}(a,t,n)}};v.push(a),f++,p=setTimeout(r,e.rotate),n(i,t,a.callback)}})),function(){return{startTime:l,payload:t,status:d,queriesSent:f,queriesPending:v.length,subscribe:y,abort:g}}}(t,e,o,(function(e,t){r(),i&&i(e,t)}));return n.push(a),a},find:function(e){return n.find((function(t){return e(t)}))||null},setIndex:function(e){t.index=e},getIndex:function(){return t.index},cleanup:r};return o}function se(){}var ce=Object.create(null);var le="iconify2",de="iconify",fe=de+"-count",pe=de+"-version",ve=36e5;function he(e,t){try{return e.getItem(t)}catch(e){}}function me(e,t,n){try{return e.setItem(t,n),!0}catch(e){}}function ge(e,t){try{e.removeItem(t)}catch(e){}}function ye(e,t){return me(e,fe,t.toString())}function be(e){return parseInt(he(e,fe))||0}var we={local:!0,session:!0},Ee={local:new Set,session:new Set},Te=!1,Oe="undefined"==typeof window?{}:window;function Ae(e){var t=e+"Storage";try{if(Oe&&Oe[t]&&"number"==typeof Oe[t].length)return Oe[t]}catch(e){}we[e]=!1}function Ce(e,t){var n=Ae(e);if(n){var r=he(n,pe);if(r!==le){if(r)for(var o=be(n),i=0;i<o;i++)ge(n,de+i.toString());return me(n,pe,le),void ye(n,0)}for(var a=Math.floor(Date.now()/ve)-168,u=function(e){var r=de+e.toString(),o=he(n,r);if("string"==typeof o){try{var i=JSON.parse(o);if("object"===d(i)&&"number"==typeof i.cached&&i.cached>a&&"string"==typeof i.provider&&"object"===d(i.data)&&"string"==typeof i.data.prefix&&t(i,e))return!0}catch(e){}ge(n,r)}},s=be(n),c=s-1;c>=0;c--)u(c)||(c===s-1?(s--,ye(n,s)):Ee[e].add(c))}}function Pe(){if(!Te)for(var e in Te=!0,we)Ce(e,(function(e){var t=e.data,n=j(e.provider,t.prefix);if(!N(n,t).length)return!1;var r=t.lastModified||-1;return n.lastModifiedCached=n.lastModifiedCached?Math.min(n.lastModifiedCached,r):r,!0}))}function Le(){}function ke(e,t,n,r){function o(){var n=e.pendingIcons;t.forEach((function(t){n&&n.delete(t),e.icons[t]||e.missing.add(t)}))}if(n&&"object"===d(n))try{if(!N(e,n).length)return void o();r&&function(e,t){function n(n){var r;if(we[n]&&(r=Ae(n))){var o,i=Ee[n];if(i.size)i.delete(o=Array.from(i).shift());else if((o=be(r))>=50||!ye(r,o+1))return;var a={cached:Math.floor(Date.now()/ve),provider:e.provider,data:t};return me(r,de+o.toString(),JSON.stringify(a))}}Te||Pe(),t.lastModified&&!function(e,t){var n=e.lastModifiedCached;if(n&&n>=t)return n===t;if(e.lastModifiedCached=t,n)for(var r in we)Ce(r,(function(n){var r=n.data;return n.provider!==e.provider||r.prefix!==e.prefix||r.lastModified===t}));return!0}(e,t.lastModified)||Object.keys(t.icons).length&&(t.not_found&&delete(t=Object.assign({},t)).not_found,n("local")||n("session"))}(e,n)}catch(e){console.error(e)}o(),function(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout((function(){e.iconsLoaderFlag=!1,function(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout((function(){e.pendingCallbacksFlag=!1;var t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(t.length){var n=!1,r=e.provider,o=e.prefix;t.forEach((function(t){var i=t.icons,a=i.pending.length;i.pending=i.pending.filter((function(t){if(t.prefix!==o)return!0;var a=t.name;if(e.icons[a])i.loaded.push({provider:r,prefix:o,name:a});else{if(!e.missing.has(a))return n=!0,!0;i.missing.push({provider:r,prefix:o,name:a})}return!1})),i.pending.length!==a&&(n||oe([e],t.id),t.callback(i.loaded.slice(0),i.missing.slice(0),i.pending.slice(0),t.abort))}))}})))}(e)})))}(e)}function Me(e,t){e instanceof Promise?e.then((function(e){t(e)})).catch((function(){t(null)})):t(e)}function Se(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout((function(){e.iconsQueueFlag=!1;var t=e.provider,n=e.prefix,r=e.iconsToLoad;if(delete e.iconsToLoad,r&&r.length){var o=e.loadIcon;if(e.loadIcons&&(r.length>1||!o))Me(e.loadIcons(r,n,t),(function(t){ke(e,r,t,!1)}));else if(o)r.forEach((function(r){Me(o(r,n,t),(function(t){var o=t?{prefix:n,icons:v({},r,t)}:null;ke(e,[r],o,!1)}))}));else{var i=function(e){var t=[],n=[];return e.forEach((function(e){(e.match(x)?t:n).push(e)})),{valid:t,invalid:n}}(r),a=i.valid,u=i.invalid;if(u.length&&ke(e,u,null,!1),a.length){var s=n.match(x)?Q(t):null;s?s.prepare(t,n,a).forEach((function(n){!function(e,t,n){var r,o;if("string"==typeof e){var i=Q(e);if(!i)return n(void 0,424),se;o=i.send;var a=function(e){if(!ce[e]){var t=te(e);if(!t)return;var n={config:t,redundancy:ue(t)};ce[e]=n}return ce[e]}(e);a&&(r=a.redundancy)}else{var u=X(e);if(u){r=ue(u);var s=Q(e.resources?e.resources[0]:"");s&&(o=s.send)}}r&&o?r.query(t,o,n)().abort:n(void 0,424)}(t,n,(function(t){ke(e,n.icons,t,!0)}))})):ke(e,a,null,!1)}}}})))}var xe,_e=/[\s,]+/;function De(e,t){t.split(_e).forEach((function(t){switch(t.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0}}))}function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.replace(/^-?[0-9.]*/,"");function r(e){for(;e<0;)e+=4;return e%4}if(""===n){var o=parseInt(e);return isNaN(o)?0:r(o)}if(n!==e){var i=0;switch(n){case"%":i=25;break;case"deg":i=90}if(i){var a=parseFloat(e.slice(0,e.length-n.length));return isNaN(a)?0:(a/=i)%1==0?r(a):0}}return t}function je(e){return void 0===xe&&function(){try{xe=window.trustedTypes.createPolicy("iconify",{createHTML:function(e){return e}})}catch(e){xe=null}}(),xe?xe.createHTML(e):e}var Ne=w(w({},B),{},{inline:!1}),Ie={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},Ve={display:"inline-block"},Ue={backgroundColor:"currentColor"},Fe={backgroundColor:"transparent"},Be={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},We={WebkitMask:Ue,mask:Ue,background:Fe};for(var ze in We){var Je=We[ze];for(var He in Be)Je[ze+He]=Be[He]}var Ge=w(w({},Ne),{},{inline:!0});function $e(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}var qe,Ke;if(V(!0),function(e,t){K[e]=t}("",re),"undefined"!=typeof document&&"undefined"!=typeof window){Pe();var Qe=window;if(void 0!==Qe.IconifyPreload){var Xe=Qe.IconifyPreload,Ye="Invalid IconifyPreload syntax.";"object"===d(Xe)&&null!==Xe&&(Xe instanceof Array?Xe:[Xe]).forEach((function(e){try{("object"!==d(e)||null===e||e instanceof Array||"object"!==d(e.icons)||"string"!=typeof e.prefix||!function(e,t){if("object"!==d(e))return!1;if("string"!=typeof t&&(t=e.provider||""),I&&!t&&!e.prefix){var n=!1;return S(e)&&(e.prefix="",L(e,(function(e,t){(function(e,t){var n=_(e,!0,I);if(!n)return!1;var r=j(n.provider,n.prefix);return t?function(e,t,n){try{if("string"==typeof n.body)return e.icons[t]=w({},n),!0}catch(e){}return!1}(r,n.name,t):(r.missing.add(n.name),!0)})(e,t)&&(n=!0)}))),n}var r=e.prefix;return!!D({provider:t,prefix:r,name:"a"})&&!!N(j(t,r),e)}(e))&&console.error(Ye)}catch(e){console.error(Ye)}}))}if(void 0!==Qe.IconifyProviders){var Ze=Qe.IconifyProviders;if("object"===d(Ze)&&null!==Ze)for(var et in Ze){var tt="IconifyProviders["+et+"] is invalid.";try{var nt=Ze[et];if("object"!==d(nt)||!nt||void 0===nt.resources)continue;qe=et,void 0,(null===(Ke=X(nt))||(Y[qe]=Ke,0))&&console.error(tt)}catch(e){console.error(tt)}}}}function rt(e){var t=y((0,h.useState)(!!e.ssr),2),n=t[0],r=t[1],o=y((0,h.useState)({}),2),i=o[0],a=o[1],u=(0,h.useState)(function(t){if(t){var n=e.icon;if("object"===d(n))return{name:"",data:n};var r=U(n);if(r)return{name:n,data:r}}return{name:""}}(!!e.ssr)),s=y(u,2),c=s[0],l=s[1];function f(){var e=i.callback;e&&(e(),a({}))}function p(e){if(JSON.stringify(c)!==JSON.stringify(e))return f(),l(e),!0}function v(){var t,n=e.icon;if("object"!==d(n)){var r=U(n);if(p({name:n,data:r}))if(void 0===r){var o=function(e,t){var n=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[];return e.forEach((function(e){var o="string"==typeof e?_(e,t,n):e;o&&r.push(o)})),r}(e,!0,V()),r=function(e){var t={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort((function(e,t){return e.provider!==t.provider?e.provider.localeCompare(t.provider):e.prefix!==t.prefix?e.prefix.localeCompare(t.prefix):e.name.localeCompare(t.name)}));var r={provider:"",prefix:"",name:""};return e.forEach((function(e){if(r.name!==e.name||r.prefix!==e.prefix||r.provider!==e.provider){r=e;var o=e.provider,i=e.prefix,a=e.name,u=n[o]||(n[o]=Object.create(null)),s=u[i]||(u[i]=j(o,i)),c={provider:o,prefix:i,name:a};(a in s.icons?t.loaded:""===i||s.missing.has(a)?t.missing:t.pending).push(c)}})),t}(n);if(!r.pending.length){var o=!0;return t&&setTimeout((function(){o&&t(r.loaded,r.missing,r.pending,Le)})),function(){o=!1}}var i,a,u=Object.create(null),s=[];return r.pending.forEach((function(e){var t=e.provider,n=e.prefix;if(n!==a||t!==i){i=t,a=n,s.push(j(t,n));var r=u[t]||(u[t]=Object.create(null));r[n]||(r[n]=[])}})),r.pending.forEach((function(e){var t=e.provider,n=e.prefix,r=e.name,o=j(t,n),i=o.pendingIcons||(o.pendingIcons=new Set);i.has(r)||(i.add(r),u[t][n].push(r))})),s.forEach((function(e){var t=u[e.provider][e.prefix];t.length&&Se(e,t)})),t?function(e,t,n){var r=ie++,o=oe.bind(null,n,r);if(!t.pending.length)return o;var i={id:r,icons:t,callback:e,abort:o};return n.forEach((function(e){(e.loaderCallbacks||(e.loaderCallbacks=[])).push(i)})),o}(t,r,s):Le}([n],v);a({callback:o})}else r&&(null===(t=e.onLoad)||void 0===t||t.call(e,n))}else p({name:"",data:n})}(0,h.useEffect)((function(){return r(!0),f}),[]),(0,h.useEffect)((function(){n&&v()}),[e.icon,n]);var m=c.name,g=c.data;return g?function(e,t,n){var r=t.inline?Ge:Ne,o=function(e,t){var n=w({},e);for(var r in t){var o=t[r],i=d(o);r in F?(null===o||o&&("string"===i||"number"===i))&&(n[r]=o):i===d(n[r])&&(n[r]="rotate"===r?o%4:o)}return n}(r,t),i=t.mode||"svg",a={},u=t.style||{},s=w({},"svg"===i?Ie:{});if(n){var c=_(n,!1,!0);if(c){for(var l=["iconify"],f=0,p=["provider","prefix"];f<p.length;f++){var v=p[f];c[v]&&l.push("iconify--"+c[v])}s.className=l.join(" ")}}for(var m in t){var g=t[m];if(void 0!==g)switch(m){case"icon":case"style":case"children":case"onLoad":case"mode":case"ssr":break;case"_ref":s.ref=g;break;case"className":s[m]=(s[m]?s[m]+" ":"")+g;break;case"inline":case"hFlip":case"vFlip":o[m]=!0===g||"true"===g||1===g;break;case"flip":"string"==typeof g&&De(o,g);break;case"color":a.color=g;break;case"rotate":"string"==typeof g?o[m]=Re(g):"number"==typeof g&&(o[m]=g);break;case"ariaHidden":case"aria-hidden":!0!==g&&"true"!==g&&delete s["aria-hidden"];break;default:void 0===r[m]&&(s[m]=g)}}var y=function(e,t){var n=w(w({},O),e),r=w(w({},B),t),o={left:n.left,top:n.top,width:n.width,height:n.height},i=n.body;[n,r].forEach((function(e){var t,n=[],r=e.hFlip,a=e.vFlip,u=e.rotate;switch(r?a?u+=2:(n.push("translate("+(o.width+o.left).toString()+" "+(0-o.top).toString()+")"),n.push("scale(-1 1)"),o.top=o.left=0):a&&(n.push("translate("+(0-o.left).toString()+" "+(o.height+o.top).toString()+")"),n.push("scale(1 -1)"),o.top=o.left=0),u<0&&(u-=4*Math.floor(u/4)),u%=4){case 1:t=o.height/2+o.top,n.unshift("rotate(90 "+t.toString()+" "+t.toString()+")");break;case 2:n.unshift("rotate(180 "+(o.width/2+o.left).toString()+" "+(o.height/2+o.top).toString()+")");break;case 3:t=o.width/2+o.left,n.unshift("rotate(-90 "+t.toString()+" "+t.toString()+")")}u%2==1&&(o.left!==o.top&&(t=o.left,o.left=o.top,o.top=t),o.width!==o.height&&(t=o.width,o.width=o.height,o.height=t)),n.length&&(i=function(e,t){var n,r,o=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"defs",n="",r=e.indexOf("<"+t);r>=0;){var o=e.indexOf(">",r),i=e.indexOf("</"+t);if(-1===o||-1===i)break;var a=e.indexOf(">",i);if(-1===a)break;n+=e.slice(o+1,i).trim(),e=e.slice(0,r).trim()+e.slice(a+1)}return{defs:n,content:e}}(e);return n=o.defs,r=t+o.content+"</g>",n?"<defs>"+n+"</defs>"+r:r}(i,'<g transform="'+n.join(" ")+'">'))}));var a,u,s=r.width,c=r.height,l=o.width,d=o.height;null===s?a=J(u=null===c?"1em":"auto"===c?d:c,l/d):(a="auto"===s?l:s,u=null===c?J(a,d/l):"auto"===c?d:c);var f={},p=function(e,t){(function(e){return"unset"===e||"undefined"===e||"none"===e})(t)||(f[e]=t.toString())};p("width",a),p("height",u);var v=[o.left,o.top,l,d];return f.viewBox=v.join(" "),{attributes:f,viewBox:v,body:i}}(e,o),b=y.attributes;if(o.inline&&(a.verticalAlign="-0.125em"),"svg"===i){s.style=w(w({},a),u),Object.assign(s,b);var E=0,T=t.id;return"string"==typeof T&&(T=T.replace(/-/g,"_")),s.dangerouslySetInnerHTML={__html:je(q(y.body,T?function(){return T+"ID"+E++}:"iconifyReact"))},(0,h.createElement)("svg",s)}var A,C=e.body,P=e.width,L=e.height,k="mask"===i||"bg"!==i&&-1!==C.indexOf("currentColor"),M=function(e,t){var n=-1===e.indexOf("xlink:")?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(var r in t)n+=" "+r+'="'+t[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}(C,w(w({},b),{},{width:P+"",height:L+""}));return s.style=w(w(w(w({},a),{},{"--svg":(A=M,'url("'+function(e){return"data:image/svg+xml,"+function(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}(e)}(A)+'")'),width:$e(b.width),height:$e(b.height)},Ve),k?Ue:Fe),u),(0,h.createElement)("span",s)}(w(w({},O),g),e,m):e.children?e.children:(0,h.createElement)("span",{})}var ot=(0,h.forwardRef)((function(e,t){return rt(w(w({},e),{},{_ref:t}))}));function it(){return it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},it.apply(this,arguments)}(0,h.forwardRef)((function(e,t){return rt(w(w({inline:!0},e),{},{_ref:t}))}));var at=function(e){switch(e){case"stacked":default:return"rhap_stacked";case"stacked-reverse":return"rhap_stacked-reverse";case"horizontal":return"rhap_horizontal";case"horizontal-reverse":return"rhap_horizontal-reverse"}},ut=function(e){return e instanceof MouseEvent?e.clientX:e.touches[0].clientX},st=function(e){return e>9?e.toString():"0".concat(e)},ct=function(e,t,n){if(!isFinite(e))return null;var r=Math.floor(e/60),o=st(r),i=st(Math.floor(e%60)),a=st(Math.floor(r%60)),u=Math.floor(r/60),s="".concat(o,":").concat(i),c="".concat(u,":").concat(a,":").concat(i);return"auto"===n?t>=3600?c:s:"mm:ss"===n?s:"hh:mm:ss"===n?c:void 0};function lt(e,t){var n=!1;return function(r){n||(e(r),n=!0,setTimeout((function(){return n=!1}),t))}}var dt=function(e){l(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p(t);if(n){var o=p(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f(this,e)});function o(){var e;i(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return v(s(e=r.call.apply(r,[this].concat(n))),"audio",void 0),v(s(e),"timeOnMouseMove",0),v(s(e),"hasAddedAudioEventListener",!1),v(s(e),"downloadProgressAnimationTimer",void 0),v(s(e),"state",{isDraggingProgress:!1,currentTimePos:"0%",hasDownloadProgressAnimation:!1,downloadProgressArr:[],waitingForSeekCallback:!1}),v(s(e),"getCurrentProgress",(function(t){var n=e.props,r=n.audio,o=n.progressBar;if(!(0===r.src.indexOf("blob:")||void 0!==e.props.srcDuration||r.src&&isFinite(r.currentTime)&&o.current))return{currentTime:0,currentTimePos:"0%"};var i=o.current.getBoundingClientRect(),a=i.width,u=ut(t)-i.left;return u<0?u=0:u>a&&(u=a),{currentTime:e.getDuration()*u/a,currentTimePos:"".concat((u/a*100).toFixed(2),"%")}})),v(s(e),"handleContextMenu",(function(e){e.preventDefault()})),v(s(e),"handleMouseDownOrTouchStartProgressBar",(function(t){t.stopPropagation();var n=e.getCurrentProgress(t.nativeEvent),r=n.currentTime,o=n.currentTimePos;isFinite(r)&&(e.timeOnMouseMove=r,e.setState({isDraggingProgress:!0,currentTimePos:o}),t.nativeEvent instanceof MouseEvent?(window.addEventListener("mousemove",e.handleWindowMouseOrTouchMove),window.addEventListener("mouseup",e.handleWindowMouseOrTouchUp)):(window.addEventListener("touchmove",e.handleWindowMouseOrTouchMove),window.addEventListener("touchend",e.handleWindowMouseOrTouchUp)))})),v(s(e),"handleWindowMouseOrTouchMove",(function(t){t instanceof MouseEvent&&t.preventDefault(),t.stopPropagation();var n=window.getSelection();if(n&&"Range"===n.type&&n.empty(),e.state.isDraggingProgress){var r=e.getCurrentProgress(t),o=r.currentTime,i=r.currentTimePos;e.timeOnMouseMove=o,e.setState({currentTimePos:i})}})),v(s(e),"handleWindowMouseOrTouchUp",(function(t){t.stopPropagation();var n=e.timeOnMouseMove,r=e.props,o=r.audio,i=r.onChangeCurrentTimeError,a=r.onSeek;if(a)e.setState({isDraggingProgress:!1,waitingForSeekCallback:!0},(function(){a(o,n).then((function(){return e.setState({waitingForSeekCallback:!1})}),(function(e){throw new Error(e)}))}));else{var u={isDraggingProgress:!1};if(o.readyState===o.HAVE_NOTHING||o.readyState===o.HAVE_METADATA||!isFinite(n))try{o.load()}catch(e){return u.currentTimePos="0%",i&&i(e)}o.currentTime=n,e.setState(u)}t instanceof MouseEvent?(window.removeEventListener("mousemove",e.handleWindowMouseOrTouchMove),window.removeEventListener("mouseup",e.handleWindowMouseOrTouchUp)):(window.removeEventListener("touchmove",e.handleWindowMouseOrTouchMove),window.removeEventListener("touchend",e.handleWindowMouseOrTouchUp))})),v(s(e),"handleAudioTimeUpdate",lt((function(t){var n=e.state.isDraggingProgress,r=t.target;if(!n&&!0!==e.state.waitingForSeekCallback){var o=r.currentTime,i=e.getDuration();e.setState({currentTimePos:"".concat((o/i*100||0).toFixed(2),"%")})}}),e.props.progressUpdateInterval)),v(s(e),"handleAudioDownloadProgressUpdate",(function(t){for(var n=t.target,r=e.getDuration(),o=[],i=0;i<n.buffered.length;i++){var a=n.buffered.start(i),u=n.buffered.end(i);o.push({left:"".concat(Math.round(100/r*a)||0,"%"),width:"".concat(Math.round(100/r*(u-a))||0,"%")})}clearTimeout(e.downloadProgressAnimationTimer),e.setState({downloadProgressArr:o,hasDownloadProgressAnimation:!0}),e.downloadProgressAnimationTimer=setTimeout((function(){e.setState({hasDownloadProgressAnimation:!1})}),200)})),e}return u(o,[{key:"getDuration",value:function(){var e=this.props,t=e.audio,n=e.srcDuration;return void 0===n?t.duration:n}},{key:"initialize",value:function(){var e=this.props.audio;e&&!this.hasAddedAudioEventListener&&(this.audio=e,this.hasAddedAudioEventListener=!0,e.addEventListener("timeupdate",this.handleAudioTimeUpdate),e.addEventListener("progress",this.handleAudioDownloadProgressUpdate))}},{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentDidUpdate",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("timeupdate",this.handleAudioTimeUpdate),this.audio.removeEventListener("progress",this.handleAudioDownloadProgressUpdate)),clearTimeout(this.downloadProgressAnimationTimer)}},{key:"render",value:function(){var e=this.props,t=e.showDownloadProgress,n=e.showFilledProgress,r=e.progressBar,o=e.i18nProgressBar,i=this.state,a=i.currentTimePos,u=i.downloadProgressArr,s=i.hasDownloadProgressAnimation;return m().createElement("div",{className:"rhap_progress-container",ref:r,"aria-label":o,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Number(a.split("%")[0]),tabIndex:0,onMouseDown:this.handleMouseDownOrTouchStartProgressBar,onTouchStart:this.handleMouseDownOrTouchStartProgressBar,onContextMenu:this.handleContextMenu},m().createElement("div",{className:"rhap_progress-bar ".concat(t?"rhap_progress-bar-show-download":"")},m().createElement("div",{className:"rhap_progress-indicator",style:{left:a}}),n&&m().createElement("div",{className:"rhap_progress-filled",style:{width:a}}),t&&u.map((function(e,t){var n=e.left,r=e.width;return m().createElement("div",{key:t,className:"rhap_download-progress",style:{left:n,width:r,transitionDuration:s?".2s":"0s"}})}))))}}]),o}(h.Component);const ft=(0,h.forwardRef)((function(e,t){return m().createElement(dt,it({},e,{progressBar:t}))}));const pt=function(e){l(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p(t);if(n){var o=p(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f(this,e)});function o(e){var t;i(this,o),v(s(t=r.call(this,e)),"audio",void 0),v(s(t),"hasAddedAudioEventListener",!1),v(s(t),"state",{currentTime:t.props.defaultCurrentTime}),v(s(t),"handleAudioCurrentTimeChange",(function(e){var n=e.target,r=t.props,o=r.isLeftTime,i=r.timeFormat,a=r.defaultCurrentTime;t.setState({currentTime:ct(o?n.duration-n.currentTime:n.currentTime,n.duration,i)||a})})),v(s(t),"addAudioEventListeners",(function(){var e=t.props.audio;e&&!t.hasAddedAudioEventListener&&(t.audio=e,t.hasAddedAudioEventListener=!0,e.addEventListener("timeupdate",t.handleAudioCurrentTimeChange),e.addEventListener("loadedmetadata",t.handleAudioCurrentTimeChange))}));var n=e.audio,a=e.defaultCurrentTime,u=e.isLeftTime,c=e.timeFormat,l=a;return n&&(l=ct(u?n.duration-n.currentTime:n.currentTime,n.duration,c)),t.state={currentTime:l},t}return u(o,[{key:"componentDidMount",value:function(){this.addAudioEventListeners()}},{key:"componentDidUpdate",value:function(){this.addAudioEventListeners()}},{key:"componentWillUnmount",value:function(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("timeupdate",this.handleAudioCurrentTimeChange),this.audio.removeEventListener("loadedmetadata",this.handleAudioCurrentTimeChange))}},{key:"render",value:function(){return this.state.currentTime}}]),o}(h.PureComponent);const vt=function(e){l(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p(t);if(n){var o=p(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f(this,e)});function o(e){var t;i(this,o),v(s(t=r.call(this,e)),"audio",void 0),v(s(t),"hasAddedAudioEventListener",!1),v(s(t),"state",{duration:t.props.audio?ct(t.props.audio.duration,t.props.audio.duration,t.props.timeFormat):t.props.defaultDuration}),v(s(t),"handleAudioDurationChange",(function(e){var n=e.target,r=t.props,o=r.timeFormat,i=r.defaultDuration;t.setState({duration:ct(n.duration,n.duration,o)||i})})),v(s(t),"addAudioEventListeners",(function(){var e=t.props.audio;e&&!t.hasAddedAudioEventListener&&(t.audio=e,t.hasAddedAudioEventListener=!0,e.addEventListener("durationchange",t.handleAudioDurationChange),e.addEventListener("abort",t.handleAudioDurationChange))}));var n=e.audio,a=e.timeFormat,u=e.defaultDuration;return t.state={duration:n?ct(n.duration,n.duration,a):u},t}return u(o,[{key:"componentDidMount",value:function(){this.addAudioEventListeners()}},{key:"componentDidUpdate",value:function(){this.addAudioEventListeners()}},{key:"componentWillUnmount",value:function(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("durationchange",this.handleAudioDurationChange),this.audio.removeEventListener("abort",this.handleAudioDurationChange))}},{key:"render",value:function(){return this.state.duration}}]),o}(h.PureComponent);const ht=function(e){l(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p(t);if(n){var o=p(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f(this,e)});function o(){var e;i(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return v(s(e=r.call.apply(r,[this].concat(n))),"audio",void 0),v(s(e),"hasAddedAudioEventListener",!1),v(s(e),"volumeBar",(0,h.createRef)()),v(s(e),"volumeAnimationTimer",0),v(s(e),"lastVolume",e.props.volume),v(s(e),"state",{currentVolumePos:"".concat((e.lastVolume/1*100||0).toFixed(2),"%"),hasVolumeAnimation:!1,isDraggingVolume:!1}),v(s(e),"getCurrentVolume",(function(t){var n=e.props.audio;if(!e.volumeBar.current)return{currentVolume:n.volume,currentVolumePos:e.state.currentVolumePos};var r,o,i=e.volumeBar.current.getBoundingClientRect(),a=i.width,u=ut(t)-i.left;return u<0?(r=0,o="0%"):u>i.width?(r=1,o="100%"):(r=u/a,o="".concat(u/a*100,"%")),{currentVolume:r,currentVolumePos:o}})),v(s(e),"handleContextMenu",(function(e){e.preventDefault()})),v(s(e),"handleClickVolumeButton",(function(){var t=e.props.audio;t.volume>0?(e.lastVolume=t.volume,t.volume=0):t.volume=e.lastVolume})),v(s(e),"handleVolumnControlMouseOrTouchDown",(function(t){t.stopPropagation();var n=e.props.audio,r=e.getCurrentVolume(t.nativeEvent),o=r.currentVolume,i=r.currentVolumePos;n.volume=o,e.setState({isDraggingVolume:!0,currentVolumePos:i}),t.nativeEvent instanceof MouseEvent?(window.addEventListener("mousemove",e.handleWindowMouseOrTouchMove),window.addEventListener("mouseup",e.handleWindowMouseOrTouchUp)):(window.addEventListener("touchmove",e.handleWindowMouseOrTouchMove),window.addEventListener("touchend",e.handleWindowMouseOrTouchUp))})),v(s(e),"handleWindowMouseOrTouchMove",(function(t){t instanceof MouseEvent&&t.preventDefault(),t.stopPropagation();var n=e.props.audio,r=window.getSelection();if(r&&"Range"===r.type&&r.empty(),e.state.isDraggingVolume){var o=e.getCurrentVolume(t),i=o.currentVolume,a=o.currentVolumePos;n.volume=i,e.setState({currentVolumePos:a})}})),v(s(e),"handleWindowMouseOrTouchUp",(function(t){t.stopPropagation(),e.setState({isDraggingVolume:!1}),t instanceof MouseEvent?(window.removeEventListener("mousemove",e.handleWindowMouseOrTouchMove),window.removeEventListener("mouseup",e.handleWindowMouseOrTouchUp)):(window.removeEventListener("touchmove",e.handleWindowMouseOrTouchMove),window.removeEventListener("touchend",e.handleWindowMouseOrTouchUp))})),v(s(e),"handleAudioVolumeChange",(function(t){var n=e.state.isDraggingVolume,r=t.target.volume;(e.lastVolume>0&&0===r||0===e.lastVolume&&r>0)&&e.props.onMuteChange(),e.lastVolume=r,n||(e.setState({hasVolumeAnimation:!0,currentVolumePos:"".concat((r/1*100||0).toFixed(2),"%")}),clearTimeout(e.volumeAnimationTimer),e.volumeAnimationTimer=setTimeout((function(){e.setState({hasVolumeAnimation:!1})}),100))})),e}return u(o,[{key:"componentDidUpdate",value:function(){var e=this.props.audio;e&&!this.hasAddedAudioEventListener&&(this.audio=e,this.hasAddedAudioEventListener=!0,e.addEventListener("volumechange",this.handleAudioVolumeChange))}},{key:"componentWillUnmount",value:function(){this.audio&&this.hasAddedAudioEventListener&&this.audio.removeEventListener("volumechange",this.handleAudioVolumeChange),clearTimeout(this.volumeAnimationTimer)}},{key:"render",value:function(){var e=this.props,t=e.audio,n=e.showFilledVolume,r=e.i18nVolumeControl,o=this.state,i=o.currentVolumePos,a=o.hasVolumeAnimation,u=(t||{}).volume;return m().createElement("div",{ref:this.volumeBar,onMouseDown:this.handleVolumnControlMouseOrTouchDown,onTouchStart:this.handleVolumnControlMouseOrTouchDown,onContextMenu:this.handleContextMenu,role:"progressbar","aria-label":r,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Number((100*u).toFixed(0)),tabIndex:0,className:"rhap_volume-bar-area"},m().createElement("div",{className:"rhap_volume-bar"},m().createElement("div",{className:"rhap_volume-indicator",style:{left:i,transitionDuration:a?".1s":"0s"}}),n&&m().createElement("div",{className:"rhap_volume-filled",style:{width:i}})))}}]),o}(h.Component);var mt;!function(e){e.CURRENT_TIME="CURRENT_TIME",e.CURRENT_LEFT_TIME="CURRENT_LEFT_TIME",e.PROGRESS_BAR="PROGRESS_BAR",e.DURATION="DURATION",e.ADDITIONAL_CONTROLS="ADDITIONAL_CONTROLS",e.MAIN_CONTROLS="MAIN_CONTROLS",e.VOLUME_CONTROLS="VOLUME_CONTROLS",e.LOOP="LOOP",e.VOLUME="VOLUME"}(mt||(mt={}));var gt=function(e){l(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=p(t);if(n){var o=p(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f(this,e)});function o(){var e,t;i(this,o);for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return v(s(t=r.call.apply(r,[this].concat(a))),"audio",(0,h.createRef)()),v(s(t),"progressBar",(0,h.createRef)()),v(s(t),"container",(0,h.createRef)()),v(s(t),"lastVolume",null!==(e=t.props.volume)&&void 0!==e?e:1),v(s(t),"listenTracker",void 0),v(s(t),"volumeAnimationTimer",void 0),v(s(t),"downloadProgressAnimationTimer",void 0),v(s(t),"togglePlay",(function(e){e.stopPropagation();var n=t.audio.current;(n.paused||n.ended)&&n.src?t.playAudioPromise():n.paused||n.pause()})),v(s(t),"playAudioPromise",(function(){t.audio.current.error&&t.audio.current.load();var e=t.audio.current.play();e?e.then(null).catch((function(e){var n=t.props.onPlayError;n&&n(new Error(e))})):t.forceUpdate()})),v(s(t),"isPlaying",(function(){var e=t.audio.current;return!!e&&!e.paused&&!e.ended})),v(s(t),"handlePlay",(function(e){t.forceUpdate(),t.props.onPlay&&t.props.onPlay(e)})),v(s(t),"handlePause",(function(e){t.audio&&(t.forceUpdate(),t.props.onPause&&t.props.onPause(e))})),v(s(t),"handleEnded",(function(e){t.audio&&(t.forceUpdate(),t.props.onEnded&&t.props.onEnded(e))})),v(s(t),"handleAbort",(function(e){t.props.onAbort&&t.props.onAbort(e)})),v(s(t),"handleClickVolumeButton",(function(){var e=t.audio.current;e.volume>0?(t.lastVolume=e.volume,e.volume=0):e.volume=t.lastVolume})),v(s(t),"handleMuteChange",(function(){t.forceUpdate()})),v(s(t),"handleClickLoopButton",(function(){t.audio.current.loop=!t.audio.current.loop,t.forceUpdate()})),v(s(t),"handleClickRewind",(function(){var e=t.props,n=e.progressJumpSteps,r=e.progressJumpStep,o=n.backward||r;t.setJumpTime(-o)})),v(s(t),"handleClickForward",(function(){var e=t.props,n=e.progressJumpSteps,r=e.progressJumpStep,o=n.forward||r;t.setJumpTime(o)})),v(s(t),"setJumpTime",(function(e){var n=t.audio.current,r=n.duration,o=n.currentTime;if(n.readyState===n.HAVE_NOTHING||n.readyState===n.HAVE_METADATA||!isFinite(r)||!isFinite(o))try{n.load()}catch(e){return t.props.onChangeCurrentTimeError&&t.props.onChangeCurrentTimeError(e)}var i=o+e/1e3;i<0?(n.currentTime=0,i=0):i>r?(n.currentTime=r,i=r):n.currentTime=i})),v(s(t),"setJumpVolume",(function(e){var n=t.audio.current.volume+e;n<0?n=0:n>1&&(n=1),t.audio.current.volume=n})),v(s(t),"handleKeyDown",(function(e){var n;if(null===(n=t.props.hasDefaultKeyBindings)||void 0===n||n)switch(e.key){case" ":e.target!==t.container.current&&e.target!==t.progressBar.current||(e.preventDefault(),t.togglePlay(e));break;case"ArrowLeft":t.handleClickRewind();break;case"ArrowRight":t.handleClickForward();break;case"ArrowUp":e.preventDefault(),t.setJumpVolume(t.props.volumeJumpStep);break;case"ArrowDown":e.preventDefault(),t.setJumpVolume(-t.props.volumeJumpStep);break;case"l":t.handleClickLoopButton();break;case"m":t.handleClickVolumeButton()}})),v(s(t),"renderUIModules",(function(e){return e.map((function(e,n){return t.renderUIModule(e,n)}))})),v(s(t),"renderUIModule",(function(e,n){var r=t.props,i=r.defaultCurrentTime,a=void 0===i?"--:--":i,u=r.progressUpdateInterval,s=void 0===u?20:u,c=r.showDownloadProgress,l=void 0===c||c,d=r.showFilledProgress,f=void 0===d||d,p=r.showFilledVolume,v=void 0!==p&&p,g=r.defaultDuration,y=void 0===g?"--:--":g,b=r.customIcons,w=void 0===b?{}:b,E=r.showSkipControls,T=void 0!==E&&E,O=r.onClickPrevious,A=r.onClickNext,C=r.onChangeCurrentTimeError,P=r.showJumpControls,L=void 0===P||P,k=r.customAdditionalControls,M=void 0===k?[mt.LOOP]:k,S=r.customVolumeControls,x=void 0===S?[mt.VOLUME]:S,_=r.muted,D=void 0!==_&&_,R=r.timeFormat,j=void 0===R?"auto":R,N=r.volume,I=void 0===N?1:N,V=r.loop,U=void 0!==V&&V,F=r.mse,B=r.i18nAriaLabels,W=void 0===B?o.defaultI18nAriaLabels:B;switch(e){case mt.CURRENT_TIME:return m().createElement("div",{key:n,id:"rhap_current-time",className:"rhap_time rhap_current-time"},m().createElement(pt,{audio:t.audio.current,isLeftTime:!1,defaultCurrentTime:a,timeFormat:j}));case mt.CURRENT_LEFT_TIME:return m().createElement("div",{key:n,id:"rhap_current-left-time",className:"rhap_time rhap_current-left-time"},m().createElement(pt,{audio:t.audio.current,isLeftTime:!0,defaultCurrentTime:a,timeFormat:j}));case mt.PROGRESS_BAR:return m().createElement(ft,{key:n,ref:t.progressBar,audio:t.audio.current,progressUpdateInterval:s,showDownloadProgress:l,showFilledProgress:f,onSeek:F&&F.onSeek,onChangeCurrentTimeError:C,srcDuration:F&&F.srcDuration,i18nProgressBar:W.progressControl});case mt.DURATION:return m().createElement("div",{key:n,className:"rhap_time rhap_total-time"},F&&F.srcDuration?ct(F.srcDuration,F.srcDuration,t.props.timeFormat):m().createElement(vt,{audio:t.audio.current,defaultDuration:y,timeFormat:j}));case mt.ADDITIONAL_CONTROLS:return m().createElement("div",{key:n,className:"rhap_additional-controls"},t.renderUIModules(M));case mt.MAIN_CONTROLS:var z,J=t.isPlaying();return z=J?w.pause?w.pause:m().createElement(ot,{icon:"mdi:pause-circle"}):w.play?w.play:m().createElement(ot,{icon:"mdi:play-circle"}),m().createElement("div",{key:n,className:"rhap_main-controls"},T&&m().createElement("button",{"aria-label":W.previous,className:"rhap_button-clear rhap_main-controls-button rhap_skip-button",type:"button",onClick:O},w.previous?w.previous:m().createElement(ot,{icon:"mdi:skip-previous"})),L&&m().createElement("button",{"aria-label":W.rewind,className:"rhap_button-clear rhap_main-controls-button rhap_rewind-button",type:"button",onClick:t.handleClickRewind},w.rewind?w.rewind:m().createElement(ot,{icon:"mdi:rewind"})),m().createElement("button",{"aria-label":J?W.pause:W.play,className:"rhap_button-clear rhap_main-controls-button rhap_play-pause-button",type:"button",onClick:t.togglePlay},z),L&&m().createElement("button",{"aria-label":W.forward,className:"rhap_button-clear rhap_main-controls-button rhap_forward-button",type:"button",onClick:t.handleClickForward},w.forward?w.forward:m().createElement(ot,{icon:"mdi:fast-forward"})),T&&m().createElement("button",{"aria-label":W.next,className:"rhap_button-clear rhap_main-controls-button rhap_skip-button",type:"button",onClick:A},w.next?w.next:m().createElement(ot,{icon:"mdi:skip-next"})));case mt.VOLUME_CONTROLS:return m().createElement("div",{key:n,className:"rhap_volume-controls"},t.renderUIModules(x));case mt.LOOP:var H,G=t.audio.current?t.audio.current.loop:U;return H=G?w.loop?w.loop:m().createElement(ot,{icon:"mdi:repeat"}):w.loopOff?w.loopOff:m().createElement(ot,{icon:"mdi:repeat-off"}),m().createElement("button",{key:n,"aria-label":G?W.loop:W.loopOff,className:"rhap_button-clear rhap_repeat-button",type:"button",onClick:t.handleClickLoopButton},H);case mt.VOLUME:var $,q=(t.audio.current||{}).volume,K=void 0===q?D?0:I:q;return $=K?w.volume?w.volume:m().createElement(ot,{icon:"mdi:volume-high"}):w.volume?w.volumeMute:m().createElement(ot,{icon:"mdi:volume-mute"}),m().createElement("div",{key:n,className:"rhap_volume-container"},m().createElement("button",{"aria-label":K?W.volume:W.volumeMute,onClick:t.handleClickVolumeButton,type:"button",className:"rhap_button-clear rhap_volume-button"},$),m().createElement(ht,{audio:t.audio.current,volume:K,onMuteChange:t.handleMuteChange,showFilledVolume:v,i18nVolumeControl:W.volumeControl}));default:return(0,h.isValidElement)(e)?e.key?e:(0,h.cloneElement)(e,{key:n}):null}})),t}return u(o,[{key:"componentDidMount",value:function(){var e=this;this.forceUpdate();var t=this.audio.current;this.props.muted?t.volume=0:t.volume=this.lastVolume,t.addEventListener("error",(function(t){var n=t.target;if(n.error&&n.currentTime===n.duration)return e.props.onEnded&&e.props.onEnded(t);e.props.onError&&e.props.onError(t)})),t.addEventListener("canplay",(function(t){e.props.onCanPlay&&e.props.onCanPlay(t)})),t.addEventListener("canplaythrough",(function(t){e.props.onCanPlayThrough&&e.props.onCanPlayThrough(t)})),t.addEventListener("play",this.handlePlay),t.addEventListener("abort",this.handleAbort),t.addEventListener("ended",this.handleEnded),t.addEventListener("playing",(function(t){e.props.onPlaying&&e.props.onPlaying(t)})),t.addEventListener("seeking",(function(t){e.props.onSeeking&&e.props.onSeeking(t)})),t.addEventListener("seeked",(function(t){e.props.onSeeked&&e.props.onSeeked(t)})),t.addEventListener("waiting",(function(t){e.props.onWaiting&&e.props.onWaiting(t)})),t.addEventListener("emptied",(function(t){e.props.onEmptied&&e.props.onEmptied(t)})),t.addEventListener("stalled",(function(t){e.props.onStalled&&e.props.onStalled(t)})),t.addEventListener("suspend",(function(t){e.props.onSuspend&&e.props.onSuspend(t)})),t.addEventListener("loadstart",(function(t){e.props.onLoadStart&&e.props.onLoadStart(t)})),t.addEventListener("loadedmetadata",(function(t){e.props.onLoadedMetaData&&e.props.onLoadedMetaData(t)})),t.addEventListener("loadeddata",(function(t){e.props.onLoadedData&&e.props.onLoadedData(t)})),t.addEventListener("pause",this.handlePause),t.addEventListener("timeupdate",lt((function(t){e.props.onListen&&e.props.onListen(t)}),this.props.listenInterval)),t.addEventListener("volumechange",(function(t){e.props.onVolumeChange&&e.props.onVolumeChange(t)})),t.addEventListener("encrypted",(function(t){var n=e.props.mse;n&&n.onEcrypted&&n.onEcrypted(t)}))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.src,r=t.autoPlayAfterSrcChange;e.src!==n&&(r?this.playAudioPromise():this.forceUpdate())}},{key:"render",value:function(){var e=this.props,t=e.className,n=void 0===t?"":t,r=e.src,i=e.loop,a=void 0!==i&&i,u=e.preload,s=void 0===u?"auto":u,c=e.autoPlay,l=void 0!==c&&c,d=e.crossOrigin,f=e.mediaGroup,p=e.header,v=e.footer,h=e.layout,g=void 0===h?"stacked":h,y=e.customProgressBarSection,b=void 0===y?[mt.CURRENT_TIME,mt.PROGRESS_BAR,mt.DURATION]:y,w=e.customControlsSection,E=void 0===w?[mt.ADDITIONAL_CONTROLS,mt.MAIN_CONTROLS,mt.VOLUME_CONTROLS]:w,T=e.children,O=e.style,A=e.i18nAriaLabels,C=void 0===A?o.defaultI18nAriaLabels:A,P=this.audio.current?this.audio.current.loop:a,L=P?"rhap_loop--on":"rhap_loop--off",k=this.isPlaying()?"rhap_play-status--playing":"rhap_play-status--paused";return m().createElement("div",{role:"group",tabIndex:0,"aria-label":C.player,className:"rhap_container ".concat(L," ").concat(k," ").concat(n),onKeyDown:this.handleKeyDown,ref:this.container,style:O},m().createElement("audio",{src:r,controls:!1,loop:P,autoPlay:l,preload:s,crossOrigin:d,mediaGroup:f,ref:this.audio},T),p&&m().createElement("div",{className:"rhap_header"},p),m().createElement("div",{className:"rhap_main ".concat(at(g))},m().createElement("div",{className:"rhap_progress-section"},this.renderUIModules(b)),m().createElement("div",{className:"rhap_controls-section"},this.renderUIModules(E))),v&&m().createElement("div",{className:"rhap_footer"},v))}}]),o}(h.Component);v(gt,"defaultI18nAriaLabels",{player:"Audio player",progressControl:"Audio progress control",volumeControl:"Volume control",play:"Play",pause:"Pause",rewind:"Rewind",forward:"Forward",previous:"Previous",next:"Skip",loop:"Disable loop",loopOff:"Enable loop",volume:"Mute",volumeMute:"Unmute"});const yt=gt;return o})()));